/-
Copyright (c) 2023 Scott Carnahan. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Scott Carnahan
-/
import Mathlib.Algebra.Vertex.Basic
import Mathlib.Algebra.Lie.Loop

/-!
# Vertex algebras attached to affine Lie algebras
Given a Lie algebra `L` over a commutative ring `R`, a central extension `C → g → L[z,z⁻¹]`, and a
positive-energy representation `V` of `g` with fixed central character `χ: C → R` we define vertex
operators on `V` attached to elements of `L`.  We show that they are local, so `V` is a module for
the vertex algebra they generate.  Special cases include Heisenberg vertex algebras for abelian `L`,
and the vacuum representations of affine Kac-Moody algebras.

## Definitions
* `vertexOperator x V` : the vertex operator for `x` on `V`.
* `vertexAlgebra χ g` : the vertex algebra generated by fields.

## Main results
* The fields are mutually local.
* The fields satisfy reconstruction conditions
* Any positive-energy module `g` at `χ` is a module for `vertexAlgebra χ g` -- needs def of VA mods.

## To do:
Write defs and proofs.  First, write something in the loop Lie algebra file.

## References
* R. Borcherds, "Vertex algebras, Kac-Moody algebras, and the monster" PNAS (1986)
* E. Frenkel, D. Ben-Zvi, "Vertex Algebras and Algebraic Curves" AMS monographs (2004)
-/

section LoopAlgebra

--def central extension (do elsewhere)
--def central character of an irreducible representation of a central extension (need alg. closed?)
--def positive-energy representation (do in loop file)

--def affineVertexOperator (x : g) (V : positiveEnergy) : VertexOperator R V :=
--  of_coeff R fun n v => x t^n • v

end LoopAlgebra

section VertexAlgebra

--def vacuumModule g χ

end VertexAlgebra
