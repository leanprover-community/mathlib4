/-
Copyright (c) 2024 Michael Rothgang. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Adomas Baliuka, Jon Eugster
-/

import Mathlib.Init

/-!

# Tools for Unicode Linter

The actual linter is defined in `TextBased.lean`.

This file provides all white-lists and other tools used by the linter.

## Main declarations

* `emojis`, `nonEmojis`: characters in these lists should always be followed by
  the correct variant-selector `UnicodeVariant.emoji` or `UnicodeVariant.text`.
  These variant-selector should not appear anywhere else.
* `withVSCodeAbbrev`: unicode characters for which the Lean extension provides a shortcut
* `othersInMathlib`: unicode characters in Mathlib without an abbreviation.
  Ideally, this list will slowly be reduced by providing shortcuts for the characters.


-/

namespace Mathlib.Linter.TextBased.UnicodeLinter

/-- Following any unicode character, this indicates that the emoji-variant should be displayed -/
def UnicodeVariant.emoji := '\uFE0F'

/-- Following any unicode character, this indicates that the text-variant should be displayed -/
def UnicodeVariant.text := '\uFE0E'

/-- Prints a unicode character's codepoint in hexadecimal with prefix 'U+'.
E.g., 'a' is "U+0061".-/
def printCodepointHex (c : Char) : String :=
  let digits := Nat.toDigits 16 c.val.toNat
  match digits.length with  -- print at least 4 (could be more) hex characters using leading zeros
  | 1 => "U+000".append <| String.mk digits
  | 2 => "U+00".append <| String.mk digits
  | 3 => "U+0".append <| String.mk digits
  | _ => "U+".append <| String.mk digits

/-- Allowed (by the linter) whitespace characters -/
def ASCII.allowedWhitespace (c : Char) := #[' ', '\n'].contains c

/-- Printable ASCII characters, not including whitespace. -/
def ASCII.printable (c : Char) := 0x21 â‰¤ c.toNat && c.toNat â‰¤ 0x7e

/-- Allowed (by the linter) ASCII characters -/
def ASCII.allowed (c : Char) := ASCII.allowedWhitespace c || ASCII.printable c

/--
Symbols with VSCode extension abbreviation as of Aug. 28, 2024

Taken from abbreviations.json in
github.com/leanprover/vscode-lean4/blob/97d7d8c382d1549c18b66cd99ab4df0b6634c8f1

Obtained using Julia code:
```julia
filter(!isascii, unique( <all text in JSON file> )) |> repr
```
And manually **excluding** \quad (U+2001) and Rial (U+FDFC).
-/
def withVSCodeAbbrev := #[
'â¦ƒ', 'â¦„', 'âŸ¦', 'âŸ§', 'âŸ¨', 'âŸ©', 'âŸ®', 'âŸ¯', 'â€¹', 'â€º', 'Â«',
'Â»', 'â…', 'â†', 'â€–', 'â‚Š', 'âŒŠ', 'âŒ‹', 'âŒˆ', 'âŒ‰', 'Î±', 'Î²',
'Ï‡', 'â†“', 'Îµ', 'Î³', 'âˆ©', 'Î¼', 'Â¬', 'âˆ˜', 'Î ', 'â–¸', 'â†’',
'â†‘', 'âˆ¨', 'Ã—', 'â»', 'Â¹', 'âˆ¼', 'Â·', 'â‹†', 'Â¿', 'â‚', 'â‚‚',
'â‚ƒ', 'â‚„', 'â‚…', 'â‚†', 'â‚‡', 'â‚ˆ', 'â‚‰', 'â‚€', 'â†', 'Ã˜', 'â…‹',
'ğ”¸', 'â„‚', 'Î”', 'ğ”½', 'Î“', 'â„', 'â‹‚', 'ğ•‚', 'Î›', 'â„•', 'â„š',
'â„', 'Î£', 'â‹ƒ', 'â„¤', 'â™¯', 'âˆ¶', 'âˆ£', 'Â¡', 'Î´', 'Î¶', 'Î·',
'Î¸', 'Î¹', 'Îº', 'Î»', 'Î½', 'Î¾', 'Ï€', 'Ï', 'Ï‚', 'Ïƒ', 'Ï„',
'Ï†', 'Ïˆ', 'Ï‰', 'Ã€', 'Ã', 'Ã‚', 'Ãƒ', 'Ã„', 'Ã‡', 'Ãˆ', 'Ã‰',
'ÃŠ', 'Ã‹', 'ÃŒ', 'Ã', 'Ã', 'Ã', 'Ã‘', 'Ã’', 'Ã“', 'Ã”', 'Ã•',
'Ã–', 'Ã™', 'Ãš', 'Ã›', 'Ãœ', 'Ã', 'Ã ', 'Ã¡', 'Ã¢', 'Ã£', 'Ã¤',
'Ã§', 'Ã¨', 'Ã©', 'Ãª', 'Ã«', 'Ã¬', 'Ã­', 'Ã®', 'Ã¯', 'Ã±', 'Ã²',
'Ã³', 'Ã´', 'Ãµ', 'Ã¶', 'Ã¸', 'Ã¹', 'Ãº', 'Ã»', 'Ã¼', 'Ã½', 'Ã¿',
'Å', 'âˆ‰', 'â™©', 'ğ†', 'âˆŒ', 'âˆ‹', 'âŸ¹', 'â™®', 'â‚¦', 'âˆ‡', 'â‰‰',
'â„–', 'â‡', 'â‡', 'â‡', 'âŠ¯', 'âŠ®', 'â‰‡', 'â†—', 'â‰¢', 'â‰ ', 'âˆ„',
'â‰±', 'â‰¯', 'â†š', 'â†®', 'â‰°', 'â‰®', 'âˆ¤', 'âˆ¦', 'â‹ ', 'âŠ€', 'â†›',
'â‰„', 'â‰', 'âŠˆ', 'âŠ„', 'â‹¡', 'âŠ', 'âŠ‰', 'âŠ…', 'â‹¬', 'â‹ª', 'â‹­',
'â‹«', 'âŠ­', 'âŠ¬', 'â†–', 'â‰ƒ', 'â‰–', 'â‰•', 'â‹', 'â‹œ', 'âŠ¢', 'â€“',
'âˆƒ', 'âˆ…', 'â€”', 'â‚¬', 'â„“', 'â‰…', 'âˆˆ', 'âŠº', 'âˆ«', 'â¨', 'âˆ†',
'âŠ“', 'â¨…', 'âˆ', 'â†”', 'Ä±', 'â‰£', 'â‰¡', 'â‰—', 'â‡’', 'â‰‹', 'â‰Š',
'â‰ˆ', 'âŸ¶', 'Ï©', 'â†©', 'â†ª', 'â‚´', 'Í±', 'â™¥', 'â„', 'âˆ»', 'â‰”',
'âˆº', 'âˆ·', 'â‰‚', 'âŠ£', 'Â²', 'Â³', 'âˆ¹', 'â”€', 'â•', 'â”', 'â•Œ',
'âŠ¸', 'â‰‘', 'â‰', 'âˆ”', 'âˆ¸', 'â‹¯', 'â‰˜', 'âŸ…', 'â‰™', 'âˆ§', 'âˆ ',
'âˆŸ', 'â„«', 'âˆ€', 'á¶ ', 'áµ', 'â„µ', 'â', 'âˆ—', 'â‰', 'âŒ¶', 'Ã¥',
'Ã¦', 'â‚³', 'Ø‹', 'âˆ', 'â‰š', 'Âª', 'Âº', 'âŠ•', 'áµ’', 'áµˆ', 'áµƒ',
'áµ–', 'âŠ–', 'âŠ', 'âŠ—', 'âŠ˜', 'âŠ™', 'âŠš', 'âŠœ', 'Å“', 'ğŸ›‘', 'â„¦',
'â„¥', 'Î¿', 'âˆ®', 'âˆ¯', 'â¨‚', 'âˆ‚', 'â‰›', 'â‰œ', 'â–¹', 'â–¿', 'âŠ´',
'â—ƒ', 'âŠµ', 'â–µ', 'â¬', 'â—‚', 'â†', 'â† ', 'â€', 'âˆ´', 'â„¡', 'â‚¸',
'â™ª', 'Âµ', 'â„', 'à¸¿', 'âœ', 'â’', 'â‚¡', 'â„—', 'â‚©', 'â‚±', 'â€±',
'â‚¤', 'â„', 'â€»', 'â€½', 'â„®', 'â—¦', 'â‚®', 'âŠ¤', 'â‚›', 'â‚', 'áµ‡',
'â‚—', 'â‚˜', 'â‚š', 'â‡¨', 'ï¿¢', 'â‹–', 'â©¿', 'â‰', 'Â°', 'Ï¯', 'âŠ¡',
'â‚«', 'â‡Š', 'â‡ƒ', 'â‡‚', 'â†˜', 'â‡˜', 'â‚¯', 'â†™', 'â‡™', 'â‡µ', 'â†§',
'âŸ±', 'â‡“', 'â†¡', 'â€¡', 'â‹±', 'â†¯', 'â—†', 'â—‡', 'â—ˆ', 'âš€', 'Ã·',
'â‹‡', 'âŒ€', 'â™¢', 'â‹„', 'Ï', 'â€ ', 'â„¸', 'Ã°', 'â‰', 'âˆ¡', 'â†¦',
'â™‚', 'âœ ', 'â‚¼', 'â„', 'âˆ’', 'â‚¥', 'â„§', 'âŠ§', 'âˆ“', 'â‰Ÿ', 'â‡',
'ğŸ›‡', 'âˆ', 'âˆ', 'â‰¾', 'â‰¼', 'â‹¨', 'â‰º', 'â€²', 'â†£', 'ğ’«', 'Â£',
'â–°', 'â–±', 'ã‰', 'Â¶', 'âˆ¥', 'Â±', 'âŸ‚', 'á—®', 'â€°', 'â…Œ', 'â‚§',
'â‹”', 'âœ‚', 'â‰¦', 'â‰¤', 'â†', 'â†¢', 'â†½', 'â†¼', 'â‡‡', 'â‡†', 'â‡‹',
'â†­', 'â‹‹', 'â‰²', 'â‹š', 'â‰¶', 'âŠ”', 'âŸ·', 'â‡”', 'âŒŸ', 'âŸµ', 'â†¤',
'â‡š', 'â‡', 'â†œ', 'âŒ', 'ã€š', 'â‰ª', 'â‚¾', 'â€¦', 'â€œ', 'ã€Š', 'â§',
'â—', 'â‹¦', 'â‰¨', 'â†«', 'â†¬', 'âœ§', 'â€˜', 'â‹‰', 'â‰§', 'â‰¥', 'â€',
'â€š', 'â‚²', 'Ï«', 'â‹™', 'â‰«', 'â„·', 'â‹§', 'â‰©', 'â‰³', 'â‹—', 'â‹›',
'â‰·', 'â‰´', 'âŸª', 'â‰µ', 'âŸ«', 'âˆš', 'âŠ‚', 'âŠƒ', 'âŠ', 'âŠ', 'âŠ†',
'âŠŠ', 'âŠ‡', 'âŠ‹', 'â¨†', 'âˆ›', 'âˆœ', 'â‰¿', 'â‰½', 'â‹©', 'â‰»', 'âˆ‘',
'â¤³', 'â‹¢', 'âŠ‘', 'â‹£', 'âŠ’', 'â–¡', 'â‡', 'â– ', 'â–£', 'â–¢', 'â—¾',
'âœ¦', 'âœ¶', 'âœ´', 'âœ¹', 'Ï›', 'â‚·', 'âˆ™', 'â™ ', 'âˆ¢', 'Â§', 'Ï»',
'Ï¡', 'Ï¸', 'Ï­', 'Ï£', 'ï¹¨', 'âˆ–', 'âŒ£', 'â€¢', 'â—€', 'Î¤', 'Î˜',
'Ã', 'âˆª', 'â€¿', 'â¯‘', 'âŠ', 'âŠ', 'â†¨', 'â†•', 'â‡•', 'â‡–', 'âŒœ',
'â‡—', 'âŒ', 'â‡ˆ', 'â‡…', 'â†¥', 'âŸ°', 'â‡‘', 'â†Ÿ', 'Ï…', 'â†¿', 'â†¾',
'â‹€', 'Ã…', 'Ã†', 'Î‘', 'â‹', 'â¨', 'â¨€', 'âŸ', 'Å’', 'Î©', 'ÎŸ',
'Î™', 'â„‘', 'â¨„', 'â¨ƒ', 'Î¥', 'Æ›', 'Ïª', 'Î’', 'Î•', 'Î–', 'Îš',
'Îœ', 'Î', 'Î', 'Î¡', 'Î¦', 'Î§', 'Î¨', 'âœ‰', 'â‹˜', 'â†°', 'âŠ¨',
'â‡°', 'âŠ©', 'âŠ«', 'âŠª', 'â‹’', 'â‹“', 'Â¤', 'â‹', 'â‹Ÿ', 'â‹', 'â‹',
'â†¶', 'â†·', 'â™£', 'ğŸš§', 'á¶œ', 'âˆ', 'Â©', 'â—', 'â—Œ', 'â—‹', 'â—¯',
'â—', 'â†º', 'Â®', 'â†»', 'âŠ›', 'â“ˆ', 'Â¢', 'â„ƒ', 'â‚µ', 'âœ“', 'È©',
'â‚¢', 'â˜¡', 'âˆ', 'â§¸', 'âŠ¹', 'âŠŸ', 'âŠ', 'âŠ ', 'Â¦', 'ğ”¹', 'â„™',
'ğŸ˜', 'â…€', 'ğŸš', 'ğŸ™', 'ğŸœ', 'ğŸ›', 'ğŸ', 'ğŸ', 'ğŸ ', 'ğŸŸ', 'ğŸ¬',
'ğŸ¡', 'ğŸ®', 'ğŸ­', 'ğŸ°', 'ğŸ¯', 'ğŸ²', 'ğŸ±', 'ğŸ´', 'ğŸ³', 'ğŸµ', 'â€£',
'â‰', 'â˜£', 'â˜…', 'â–½', 'â–³', 'â‰¬', 'â„¶', 'â‰Œ', 'âˆµ', 'â€µ', 'âˆ',
'âˆ½', 'â‹', 'âŠ¼', 'â˜»', 'â–ª', 'â–¾', 'â–´', 'âŠ¥', 'â‹ˆ', 'â—«', 'â‡‰',
'â‡„', 'â‡¶', 'â‡›', 'â–¬', 'â–­', 'âŸ†', 'ã€›', 'â˜¢', 'â€™', 'â‡',
'â‡€', 'â‡Œ', 'â‰“', 'â‹Œ', 'â‚¨', 'â‚½', 'â–·', 'â€', 'â‹Š', 'â¥¤', 'ã€‹',
'Â½', 'Â¼', 'â…“', 'â…™', 'â…•', 'â…Ÿ', 'â…›', 'â…–', 'â…”', 'â…—', 'Â¾',
'â…˜', 'â…œ', 'â…', 'â…š', 'â…', 'âŒ¢', 'â™€', 'â„»', 'Ï¥', 'â™­', 'â‰’',
'â„œ', 'Ï¤', 'â†±', 'Ï¨', 'â˜¹', 'Ï¦', 'Í°', 'Ï', 'áµ‰', 'Ê°', 'áµ',
'Ê²', 'â±', 'Ë¡', 'áµ', 'â¿', 'Ë¢', 'Ê³', 'áµ˜', 'áµ—', 'Ê·', 'áµ›',
'Ê¸', 'Ë£', 'á´¬', 'á¶»', 'á´°', 'á´®', 'á´³', 'á´±', 'á´µ', 'á´´', 'á´·',
'á´¶', 'á´¹', 'á´¸', 'á´¼', 'á´º', 'á´¿', 'á´¾', 'áµ', 'áµ€', 'áµ‚', 'â±½',
'â°', 'âµ', 'â´', 'â·', 'â¶', 'â¹', 'â¸', 'â½', 'â¾', 'âº', 'â¼',
'ê­Ÿ', 'á¶·', 'á¶¶', 'ê­', 'ê­', 'á¶©', 'á¶ª', 'ê­œ', 'êŸ¹', 'Ê±', 'á¶¿',
'êŸ¸', 'á¶­', 'á¶º', 'á¶£', 'áµš', 'áµ†', 'á¶›', 'áµ', 'áµ„', 'Êµ', 'áµŒ',
'Ê´', 'áµ”', 'á¶µ', 'á¶´', 'á¶¾', 'áµ‘', 'á¶', 'á¶¼', 'á¶½', 'á¶¦', 'á¶¹',
'á¶°', 'á¶«', 'á¶§', 'á¶¸', 'á¶', 'Ê¶', 'á¶³', 'áµ¡', 'áµŠ', 'á¶¢', 'á¶²',
'áµ™', 'áµ', 'á¶±', 'á¶¯', 'áµ•', 'á¶¬', 'á¶®', 'á¶¥', 'á¶¨', 'á¶Ÿ', 'á¶¤',
'áµ ', 'Ë¤', 'Ë ', 'áµ', 'áµ…', 'áµœ', 'áµ‹', 'áµ“', 'á´»', 'á´½', 'á´¯',
'á´²', 'â„ ', 'á´­', 'â„¢', 'â‚‘', 'áµ¢', 'â‚•', 'â‚–', 'â±¼', 'â‚’', 'â‚™',
'áµ£', 'â‚œ', 'áµ¥', 'áµ¤', 'â‚“', 'â‚', 'â‚Œ', 'â‚', 'Ì²', 'â€¼', 'â‚‹',
'Ïº', 'â‰', 'Ï·', 'Ï ', 'Ï¢', 'Ï¬', 'Ïš', 'â‹‘', 'â‹', 'â˜º', 'ğ',
'ğ€', 'ğƒ', 'ğ‚', 'ğ…', 'ğ„', 'ğ‡', 'ğ†', 'ğ‰', 'ğˆ', 'ğ‹', 'ğŠ',
'ğ', 'ğŒ', 'ğ', 'ğ', 'ğ‘', 'ğ', 'ğ“', 'ğ’', 'ğ•', 'ğ”', 'ğ—',
'ğ–', 'ğ˜', 'ğ™', 'ğ›', 'ğš', 'ğ', 'ğœ', 'ğŸ', 'ğ', 'ğ¡', 'ğ ',
'ğ£', 'ğ¢', 'ğ¥', 'ğ¤', 'ğ§', 'ğ¦', 'ğ©', 'ğ¨', 'ğ«', 'ğª', 'ğ­',
'ğ¬', 'ğ¯', 'ğ®', 'ğ±', 'ğ°', 'ğ²', 'ğ³', 'ğ´', 'ğ¶', 'ğµ', 'ğ¸',
'ğ·', 'ğº', 'ğ¹', 'ğ¼', 'ğ»', 'ğ¾', 'ğ½', 'ğ‘€', 'ğ¿', 'ğ‘‚', 'ğ‘',
'ğ‘„', 'ğ‘ƒ', 'ğ‘†', 'ğ‘…', 'ğ‘ˆ', 'ğ‘‡', 'ğ‘Š', 'ğ‘‰', 'ğ‘Œ', 'ï¿½', 'ğ‘',
'ğ‘', 'ğ‘', 'ğ‘', 'ğ‘’', 'ğ‘‘', 'ğ‘”', 'ğ‘“', 'ğ‘—', 'ğ‘–', 'ğ‘™', 'ğ‘˜',
'ğ‘›', 'ğ‘š', 'ğ‘', 'ğ‘œ', 'ğ‘Ÿ', 'ğ‘', 'ğ‘¡', 'ğ‘ ', 'ğ‘£', 'ğ‘¢', 'ğ‘¥',
'ğ‘¤', 'ğ‘§', 'ğ‘¦', 'ğ‘©', 'ğ‘¨', 'ğ‘«', 'ğ‘ª', 'ğ‘­', 'ğ‘¬', 'ğ‘¯', 'ğ‘®',
'ğ‘±', 'ğ‘°', 'ğ‘³', 'ğ‘²', 'ğ‘µ', 'ğ‘´', 'ğ‘·', 'ğ‘¶', 'ğ‘¹', 'ğ‘¸', 'ğ‘»',
'ğ‘º', 'ğ‘½', 'ğ‘¼', 'ğ‘¿', 'ğ’', 'ğ’€', 'ğ’ƒ', 'ğ’‚', 'ğ’…', 'ğ’„', 'ğ’‡',
'ğ’†', 'ğ’‰', 'ğ’ˆ', 'ğ’‹', 'ğ’Š', 'ğ’', 'ğ’Œ', 'ğ’', 'ğ’', 'ğ’‘', 'ğ’',
'ğ’“', 'ğ’’', 'ğ’•', 'ğ’”', 'ğ’—', 'ğ’–', 'ğ’™', 'ğ’˜', 'ğ’›', 'ğ’š', 'â„¬',
'ğ’œ', 'ğ’Ÿ', 'ğ’', 'â„±', 'â„°', 'â„‹', 'ğ’¢', 'ğ’¥', 'â„’', 'ğ’¦', 'ğ’©',
'â„³', 'ğ’ª', 'â„›', 'ğ’¬', 'ğ’¯', 'ğ’®', 'ğ’±', 'ğ’°', 'ğ’³', 'ğ’²', 'ğ’µ',
'ğ’´', 'ğ’·', 'ğ’¶', 'ğ’¹', 'ğ’¸', 'ğ’»', 'â„¯', 'ğ’½', 'â„Š', 'ğ’¿', 'ğ’¾',
'ğ“', 'ğ“€', 'ğ“ƒ', 'ğ“‚', 'ğ“…', 'â„´', 'ğ“‡', 'ğ“†', 'ğ“‰', 'ğ“ˆ', 'ğ“‹',
'ğ“Š', 'ğ“', 'ğ“Œ', 'ğ“', 'ğ“', 'ğ“‘', 'ğ“', 'ğ““', 'ğ“’', 'ğ“•', 'ğ“”',
'ğ“—', 'ğ“–', 'ğ“™', 'ğ“˜', 'ğ“›', 'ğ“š', 'ğ“', 'ğ“œ', 'ğ“Ÿ', 'ğ“', 'ğ“ ',
'ğ“£', 'ğ“¢', 'ğ“¥', 'ğ“¤', 'ğ“§', 'ğ“¦', 'ğ“©', 'ğ“¨', 'ğ“«', 'ğ“ª', 'ğ“­',
'ğ“¬', 'ğ“¯', 'ğ“®', 'ğ“±', 'ğ“°', 'ğ“³', 'ğ“²', 'ğ“µ', 'ğ“´', 'ğ“·', 'ğ“¶',
'ğ“¹', 'ğ“¸', 'ğ“»', 'ğ“º', 'ğ“½', 'ğ“¼', 'ğ“¿', 'ğ“¾', 'ğ”', 'ğ”€', 'ğ”ƒ',
'ğ”‚', 'ğ”…', 'ğ”„', 'ğ”‡', 'â„­', 'ğ”‰', 'ğ”ˆ', 'â„Œ', 'ğ”Š', 'ğ”', 'ğ”',
'ğ”', 'ğ”‘', 'ğ”', 'ğ”“', 'ğ”’', 'ğ””', 'ğ”—', 'ğ”–', 'ğ”™', 'ğ”˜', 'ğ”š',
'â„¨', 'ğ”œ', 'ğ”Ÿ', 'ğ”', 'ğ”¡', 'ğ” ', 'ğ”£', 'ğ”¢', 'ğ”¥', 'ğ”¤', 'ğ”§',
'ğ”¦', 'ğ”©', 'ğ”¨', 'ğ”«', 'ğ”ª', 'ğ”­', 'ğ”¬', 'ğ”¯', 'ğ”®', 'ğ”±', 'ğ”°',
'ğ”³', 'ğ”²', 'ğ”µ', 'ğ”¶', 'ğ”·', 'Â¥', 'Ï°', 'Ï±', 'Ï—', 'Ï•', 'Ï–',
'âŠ²', 'Ï‘', 'Ï', 'âŠ³', 'âŠ»', 'Ä›', 'Äš', 'Ä', 'â‹®', 'Ä', 'ÄŒ',
'Ä', 'â‚­', 'ÏŸ', 'Ä®', 'Ä¯', 'â„ª', 'âš ', 'Ï§', 'â‰€', 'â„˜', 'Ï®',
'Ïœ', 'Ã', 'Î—', 'â‰', 'ğ”»', 'ğ”¼', 'ğ”¾', 'ğ•', 'ğ•€', 'ğ•ƒ', 'ğ•„',
'ğ•†', 'ğ•‹', 'ğ•Š', 'ğ•', 'ğ•Œ', 'ğ•', 'ğ•', 'ğ•', 'ğ•“', 'ğ•’', 'ğ••',
'ğ•”', 'ğ•—', 'ğ•–', 'ğ•™', 'ğ•˜', 'ğ•›', 'ğ•š', 'ğ•œ', 'ğ•Ÿ', 'ğ•', 'ğ•¡',
'ğ• ', 'ğ•£', 'ğ•¢', 'ğ•¥', 'ğ•¤', 'ğ•§', 'ğ•¦', 'ğ•©', 'ğ•¨', 'ğ•ª', 'ğ•«',
'â¨¯', 'â¨¿', 'Í¿' ]

/-- Unicode symbols in mathilb that should always be followed by the emoji-variant selector. -/
def emojis := #[
'\u2705',        -- âœ…ï¸
'\u274C',        -- âŒï¸
 -- TODO "missing end of character literal" if written as '\u1F4A5'
 -- see https://github.com/leanprover/lean4/blob/4eea57841d1012d6c2edab0f270e433d43f92520/src/Lean/Parser/Basic.lean#L709
.ofNat 0x1F4A5,  -- ğŸ’¥ï¸
.ofNat 0x1F7E1,  -- ğŸŸ¡ï¸
.ofNat 0x1F4A1,  -- ğŸ’¡ï¸
.ofNat 0x1F419,  -- ğŸ™ï¸
.ofNat 0x1F50D,  -- ğŸ”ï¸
.ofNat 0x1F389,  -- ğŸ‰ï¸
'\u23F3',        -- â³ï¸
.ofNat 0x1F3C1 ] -- ğŸï¸

/-- Unicode symbols in mathilb that should always be followed by the text-variant selector. -/
def nonEmojis : Array Char := #[]

/--
Other unicode characters present in Mathlib (as of Aug. 28, 2024)
not present in any of the above lists.
-/
def othersInMathlib := #[
'â–¼', 'Å', 'â©', 'â“',
'ğŸ†•', 'Å¡', 'Å™', 'âš¬', 'â”‚', 'â”œ', 'â”Œ', 'Å‘',
'âŸ', 'Ì‚', 'á˜', 'Å„', 'Ä‡', 'âŸ‹', 'á»³', 'áº§', 'â¥¥',
'Å‚', 'â—¿', 'â—¹', 'ï¼', 'ï¼¼', 'â—¥', 'ï¼', 'â—¢', 'Å½', 'Äƒ',
'Ğ˜', 'Ğ²', 'Ğ°', 'Ğ½', 'Ğ¾', 'Ğ¸', 'Ñ‡', 'Å ', 'á´œ', 'áµ§', 'Â´',
'á´„', 'êœ°', 'ÃŸ', 'á´¢', 'á´', 'á´€', 'êœ±', 'É´', 'ê¯', 'ÊŸ',
'Êœ', 'áµŸ', 'Ê™', 'áµª', 'áµ©', 'áµ¦', 'á´Š', 'á´›', 'á´¡', 'á´ ',
'Éª', 'Ì€', 'á´‡', 'á´', 'Ê€', 'á´…', 'É¢', 'Ê', 'á´˜', 'Ä', 'áµ¨',
'á´‹', 'Å›', 'ê™³', 'ğ“¡', 'ğ•', 'ğ–£', 'â¨³',
-- superscript small/capital "Q" are used by `Mathlib.Util.Superscript`:
'ğ¥', 'êŸ´' ]

/-
TODO there are more symbols we could use that aren't in this list yet. E.g, see
https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode
-/

/-- If `false` the character is not allowed in Mathlib.
Consider adding it to one of the whitelists.
Note: if `true`, character might still not be allowed in some contexts
(e.g. misplaced variant selectors) -/
def isAllowedCharacter (c : Char) : Bool :=
  ASCII.allowed c
  || withVSCodeAbbrev.contains c
  || emojis.contains c
  || nonEmojis.contains c
  || c == UnicodeVariant.emoji
  || c == UnicodeVariant.text
  || othersInMathlib.contains c

end Mathlib.Linter.TextBased.UnicodeLinter
